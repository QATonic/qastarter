export default {
testEnvironment: 'node',
coverageDirectory: 'coverage',
collectCoverageFrom: [
'tests/**/*.js',
'!tests/**/*.spec.js',
'!**/node_modules/**'
],
testMatch: [
'**/tests/**/*.spec.js'
],

// Retry failed tests up to 2 times for API reliability
retryTimes: 2,

reporters: [
'default'{{#if (eq reportingTool "jest-html")}},
['jest-html-reporter', {
pageTitle: '{{projectName}} - API Test Report',
outputPath: 'reports/test-report.html',
includeFailureMsg: true,
includeConsoleLog: true
}]{{/if}}{{#if (eq reportingTool "allure")}},
['jest-allure', {
resultsDir: 'allure-results'
}]{{/if}}
],
testTimeout: 30000,
verbose: true
};