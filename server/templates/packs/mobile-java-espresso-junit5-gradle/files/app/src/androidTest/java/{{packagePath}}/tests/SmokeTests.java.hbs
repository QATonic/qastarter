package {{packageName}}.tests;

import {{packageName}}.base.BaseTest;
import {{packageName}}.screens.HomeScreen;
import {{packageName}}.screens.LoginScreen;
import {{packageName}}.utils.Log;
import {{packageName}}.utils.TestDataReader;

import org.junit.Before;
import org.junit.Test;

import java.util.Map;

import static org.junit.Assert.assertTrue;

/**
 * Smoke tests for critical application functionality.
 * These tests should be run first to verify basic app health.
 */
public class SmokeTests extends BaseTest {

    private LoginScreen loginScreen;
    private HomeScreen homeScreen;

    @Before
    public void setUp() {
        super.baseSetUp();
        
        // TODO: Launch your main activity here
        // Example: launchActivity(MainActivity.class);
        
        loginScreen = new LoginScreen();
        homeScreen = new HomeScreen();
        
        Log.info("Smoke tests setup complete");
    }

    /**
     * Verify app launches successfully.
     */
    @Test
    public void testAppLaunches() {
        Log.testStart("testAppLaunches");
        
        // Verify login screen is displayed (or your initial screen)
        assertTrue("App should launch and display initial screen",
                loginScreen.isLoaded());
        
        Log.testEnd("testAppLaunches", true);
    }

    /**
     * Verify basic login flow works.
     */
    @Test
    public void testBasicLoginFlow() {
        Log.testStart("testBasicLoginFlow");
        
        Map<String, String> validUser = TestDataReader.getTestUser("validUser");
        
        // Login
        loginScreen.login(
            validUser.get("username"),
            validUser.get("password")
        );
        
        // Verify home screen
        assertTrue("Should navigate to home screen after login",
                homeScreen.isLoaded());
        
        Log.testEnd("testBasicLoginFlow", true);
    }

    /**
     * Verify logout flow works.
     */
    @Test
    public void testBasicLogoutFlow() {
        Log.testStart("testBasicLogoutFlow");
        
        // First login
        Map<String, String> validUser = TestDataReader.getTestUser("validUser");
        loginScreen.login(
            validUser.get("username"),
            validUser.get("password")
        );
        
        // Then logout
        homeScreen.logout();
        
        // Verify back on login screen
        assertTrue("Should return to login screen after logout",
                loginScreen.isLoaded());
        
        Log.testEnd("testBasicLogoutFlow", true);
    }
}
