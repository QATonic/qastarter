"""
Login Tests - SauceDemo Mobile app.

Run: pytest tests/ -v
"""
import pytest
from pages.login_page import LoginPage
from utils.logger import log


class TestLogin:
    VALID_USER = "standard_user"
    VALID_PASS = "secret_sauce"

    @pytest.mark.smoke
    def test_valid_login(self, driver):
        log.step("Valid login test")
        login_page = LoginPage()
        login_page.login(self.VALID_USER, self.VALID_PASS)
        assert login_page.is_login_successful(), "Should navigate to Products"

    @pytest.mark.regression
    def test_invalid_login(self, driver):
        log.step("Invalid login test")
        login_page = LoginPage()
        login_page.login("invalid_user", "wrong_password")
        assert login_page.is_error_displayed(), "Should show error message"