module.exports = {
preset: 'ts-jest',
testEnvironment: 'node',
testMatch: ['**/tests/**/*.test.ts'],
setupFilesAfterEnv: ['<rootDir>/tests/setup.ts'],
  testTimeout: 120000,

  // Retry failed tests up to 2 times for flaky mobile tests


  reporters: [
  'default'{{#if (eq reportingTool "jest-html")}},
  [
  'jest-html-reporter',
  {
  pageTitle: '{{projectName}} Test Report',
  outputPath: 'reports/test-report.html',
  includeFailureMsg: true,
  includeConsoleLog: true,
  dateFormat: 'yyyy-mm-dd HH:MM:ss'
  }
  ]{{/if}}{{#if (eq reportingTool "allure")}},
  ['jest-allure', {
  resultsDir: 'allure-results'
  }]{{/if}}
  ],
  collectCoverageFrom: [
  'tests/**/*.ts',
  '!tests/**/*.test.ts',
  '!tests/setup.ts',
  '!tests/types/**'
  ]
  };