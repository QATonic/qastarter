package pages;

import com.microsoft.playwright.Page;
import config.EnvConfig;

public class HomePage extends BasePage {
    private final String WELCOME_MESSAGE = ".welcome-message, h1";
    private final String USER_PROFILE = ".user-profile";
    private final String LOGOUT_BUTTON = "button[data-action='logout'], .logout";

    public HomePage(Page page) {
        super(page);
    }

    public void navigateToHome() {
        navigate(EnvConfig.getInstance().getBaseUrl());
    }

    public String getWelcomeMessage() {
        return getText(WELCOME_MESSAGE);
    }

    public boolean isUserProfileVisible() {
        return isVisible(USER_PROFILE);
    }

    public void logout() {
        click(LOGOUT_BUTTON);
        page.waitForURL("**/login", new Page.WaitForURLOptions().setTimeout(5000));
    }
}
