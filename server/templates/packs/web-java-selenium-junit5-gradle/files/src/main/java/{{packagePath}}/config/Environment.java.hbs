package {{javaPackage}}.config;

/**
 * Enumeration representing different test environments.
 * Used for environment-specific configurations and validations.
 */
public enum Environment {
    DEV("dev", "Development"),
    QA("qa", "Quality Assurance"),
    STG("stg", "Staging"),
    PROD("prod", "Production");
    
    private final String key;
    private final String displayName;
    
    Environment(String key, String displayName) {
        this.key = key;
        this.displayName = displayName;
    }
    
    public String getKey() {
        return key;
    }
    
    public String getDisplayName() {
        return displayName;
    }
    
    /**
     * Get Environment enum from string key
     * @param key Environment key (dev, qa, stg, prod)
     * @return Environment enum or DEV if not found
     */
    public static Environment fromKey(String key) {
        for (Environment env : Environment.values()) {
            if (env.getKey().equalsIgnoreCase(key)) {
                return env;
            }
        }
        return DEV; // Default fallback
    }
    
    /**
     * Get current environment from system property
     * @return Current Environment
     */
    public static Environment getCurrent() {
        String envKey = System.getProperty("env", "dev");
        return fromKey(envKey);
    }
    
    /**
     * Check if current environment is production
     * @return true if production environment
     */
    public static boolean isProduction() {
        return getCurrent() == PROD;
    }
    
    /**
     * Check if current environment allows debug features
     * @return true if dev or qa environment
     */
    public static boolean isDebugAllowed() {
        Environment current = getCurrent();
        return current == DEV || current == QA;
    }
    
    @Override
    public String toString() {
        return displayName + " (" + key + ")";
    }
}