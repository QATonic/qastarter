package {{javaPackage}}.tests;

import {{javaPackage}}.config.ConfigurationReader;
import {{javaPackage}}.core.BaseTest;
import {{javaPackage}}.pages.LoginPage;
import {{javaPackage}}.utils.Log;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Order;
import org.junit.jupiter.api.Tag;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

/**
 * Login Tests - Example test class for SauceDemo.
 */
class LoginTests extends BaseTest {

    @Test
    @Order(1)
    @Tag("smoke")
    @DisplayName("Verify successful login with valid credentials")
    void testValidLogin() {
        Log.step("Testing valid login");
        LoginPage loginPage = new LoginPage();

        String username = ConfigurationReader.getProperty("username");
        String password = ConfigurationReader.getProperty("password");

        loginPage.login(username, password);

        assertTrue(loginPage.isLoginSuccessful(), "Login should be successful");
        Log.info("Valid login test passed");
    }

    @Test
    @Order(2)
    @Tag("regression")
    @DisplayName("Verify error message with invalid credentials")
    void testInvalidLogin() {
        Log.step("Testing invalid login");
        LoginPage loginPage = new LoginPage();

        loginPage.login("invalid_user", "wrong_password");

        assertTrue(loginPage.isErrorDisplayed(), "Error message should be displayed");
        Log.info("Invalid login test passed - error displayed as expected");
    }
}