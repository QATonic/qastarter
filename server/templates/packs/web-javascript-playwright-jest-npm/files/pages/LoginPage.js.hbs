const { BasePage } = require("./BasePage");

class LoginPage extends BasePage {
  usernameField = "#user-name";
  passwordField = "#password";
  loginButton = "#login-button";
  errorMessage = "[data-test='error']";

  async login(username, password) {
    await this.type(this.usernameField, username);
    await this.type(this.passwordField, password);
    await this.click(this.loginButton);
  }

  async isErrorDisplayed() { return await this.isDisplayed(this.errorMessage); }
  async isLoginSuccessful() { return (await this.getCurrentUrl()).includes("inventory"); }
}

module.exports = { LoginPage };