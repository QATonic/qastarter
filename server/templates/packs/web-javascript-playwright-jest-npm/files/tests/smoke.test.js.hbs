const LoginPage = require('../pages/LoginPage');
const envConfig = require('../config/env.config');

describe('Smoke Tests', () => {
  let loginPage;

  beforeEach(async () => {
    loginPage = new LoginPage(page);
  });

  test('login page loads successfully', async () => {
    await loginPage.navigateToLogin();
    const title = await loginPage.getPageTitle();
    expect(title).toBeTruthy();
    expect(await loginPage.isUsernameVisible()).toBe(true);
    expect(await loginPage.isPasswordVisible()).toBe(true);
  });

  test('base URL is accessible', async () => {
    await page.goto(envConfig.getBaseUrl());
    const url = page.url();
    expect(url).toContain(envConfig.getBaseUrl());
  });
});
