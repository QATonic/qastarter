/**
 * Logger utility for test execution.
 * Provides structured logging with different levels.
 */
class Logger {
  
  static LEVELS = {
    DEBUG: 0,
    INFO: 1,
    WARN: 2,
    ERROR: 3
  };
  
  static currentLevel = Logger.LEVELS.INFO;
  
  static separator = '========================================';
  static stepPrefix = '  â†’ ';
  
  /**
   * Set log level
   */
  static setLevel(level) {
    Logger.currentLevel = level;
  }
  
  /**
   * Format timestamp
   */
  static getTimestamp() {
    return new Date().toISOString();
  }
  
  /**
   * Log debug message
   */
  static debug(message) {
    if (Logger.currentLevel <= Logger.LEVELS.DEBUG) {
      console.log(`[${Logger.getTimestamp()}] ðŸ” DEBUG: ${message}`);
    }
  }
  
  /**
   * Log info message
   */
  static info(message) {
    if (Logger.currentLevel <= Logger.LEVELS.INFO) {
      console.log(`[${Logger.getTimestamp()}] â„¹ï¸  INFO: ${message}`);
    }
  }
  
  /**
   * Log warning message
   */
  static warn(message) {
    if (Logger.currentLevel <= Logger.LEVELS.WARN) {
      console.warn(`[${Logger.getTimestamp()}] âš ï¸  WARN: ${message}`);
    }
  }
  
  /**
   * Log error message
   */
  static error(message, error = null) {
    if (Logger.currentLevel <= Logger.LEVELS.ERROR) {
      console.error(`[${Logger.getTimestamp()}] âŒ ERROR: ${message}`);
      if (error) {
        console.error(error);
      }
    }
  }
  
  /**
   * Log test step
   */
  static step(message) {
    console.log(`${Logger.stepPrefix}${message}`);
  }
  
  /**
   * Start a new section in logs
   */
  static startSection(sectionName) {
    console.log(Logger.separator);
    console.log(sectionName);
    console.log(Logger.separator);
  }
  
  /**
   * End a section in logs
   */
  static endSection() {
    console.log(Logger.separator);
  }
  
  /**
   * Log test start
   */
  static testStart(testName) {
    Logger.startSection(`ðŸ§ª TEST START: ${testName}`);
  }
  
  /**
   * Log test end with result
   */
  static testEnd(testName, passed) {
    const result = passed ? 'âœ… PASSED' : 'âŒ FAILED';
    console.log(`TEST ${result}: ${testName}`);
    Logger.endSection();
  }
  
  /**
   * Log assertion
   */
  static assertion(description) {
    console.log(`  âœ“ ASSERT: ${description}`);
  }
  
  /**
   * Log data
   */
  static data(key, value) {
    console.log(`  ðŸ“Š DATA: ${key} = ${JSON.stringify(value)}`);
  }
}

export default Logger;
