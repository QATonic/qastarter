import pytest
from playwright.sync_api import Page
from pages.login_page import LoginPage
from config.env_config import env_config

@pytest.mark.smoke
class TestSmoke:
    def test_login_page_loads(self, page: Page):
        login_page = LoginPage(page)
        
        login_page.navigate_to_login()
        title = login_page.get_page_title()
        
        assert title, "Page title is empty"
        assert login_page.is_username_visible(), "Username field not visible"
        assert login_page.is_password_visible(), "Password field not visible"

    def test_base_url_accessible(self, page: Page):
        page.goto(env_config.get_base_url())
        url = page.url
        
        assert env_config.get_base_url() in url, "Base URL is not accessible"
