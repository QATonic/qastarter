/**
 * Login Page Object
 * 
 * HOW TO CUSTOMIZE FOR YOUR APPLICATION:
 * 1. Open your app's login page in a browser
 * 2. Right-click on each element → Inspect → Copy selector
 * 3. Replace the placeholder selectors below with your actual selectors
 */
import BasePage from './BasePage';

class LoginPage extends BasePage {
  // ============================================
  // UPDATE THESE SELECTORS FOR YOUR APPLICATION
  // ============================================
  // Tip: Use browser DevTools (F12) to find correct selectors
  private readonly usernameInput = '#username';           // Your username/email input field
  private readonly passwordInput = '#password';           // Your password input field
  private readonly loginButton = 'button[type="submit"]'; // Your login/submit button
  private readonly errorMessage = '.error-message';       // Error message element
  private readonly successIndicator = '.dashboard, .home'; // Element visible after successful login
  // ============================================

  visitLoginPage(baseUrl: string): void {
    // UPDATE: Change '/login' to your actual login page path
    this.visit(`${baseUrl}/login`);
  }

  login(username: string, password: string): void {
    this.type(this.usernameInput, username);
    this.type(this.passwordInput, password);
    this.click(this.loginButton);
  }

  verifyLoginSuccess(): void {
    cy.get(this.successIndicator, { timeout: 10000 }).should('be.visible');
  }

  verifyErrorDisplayed(): void {
    cy.get(this.errorMessage).should('be.visible');
  }

  getErrorMessage(): Cypress.Chainable<string> {
    return this.getText(this.errorMessage);
  }

  verifyUsernameVisible(): void {
    cy.get(this.usernameInput).should('be.visible');
  }

  verifyPasswordVisible(): void {
    cy.get(this.passwordInput).should('be.visible');
  }
}

export default LoginPage;
