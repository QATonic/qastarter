import type { Config } from 'jest';

const config: Config = {
preset: 'ts-jest',
testEnvironment: 'node',
testMatch: ['**/tests/**/*.test.ts'],
setupFilesAfterEnv: ['<rootDir>/tests/setup.ts'],
  testTimeout: 60000,
  verbose: true,
  collectCoverage: false,

  // Retry failed tests up to 2 times
  // Requires jest-circus (default in Jest 27+)
  retryTimes: 2,

  reporters: [
  'default'{{#if (eq reportingTool "allure")}},
  ['jest-allure', {
  resultsDir: 'allure-results'
  }]{{/if}}
  ]
  };

  export default config;